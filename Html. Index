<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Citizen Policy Portal</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: white;
        margin: 0;
        padding: 0;
        color: #004d26;
    }

    /* Header */
    header {
        background-color: #006633;
        color: white;
        padding: 30px 15px;
        text-align: center;
        font-size: 1.8em;
        font-weight: bold;
        line-height: 1.4em;
    }

    .container {
        max-width: 900px;
        margin: 20px auto;
        padding: 15px;
    }

    select, textarea, button {
        width: 100%;
        padding: 10px;
        margin-top: 10px;
        font-size: 1em;
        border: 1px solid #ccc;
        border-radius: 5px;
    }

    button {
        background-color: #006633;
        color: white;
        cursor: pointer;
        border: none;
    }
    button:hover {
        background-color: #004d26;
    }

    /* Suggestions List */
    .suggestions {
        margin-top: 20px;
    }
    .suggestion {
        border: 1px solid #ccc;
        border-left: 5px solid #006633;
        padding: 10px;
        margin-bottom: 10px;
        background: #f9f9f9;
    }

    /* Star Ratings */
    .stars {
        display: inline-block;
        cursor: pointer;
    }
    .star {
        font-size: 1.4em;
        color: white;
        -webkit-text-stroke: 1px black;
    }
    .star.selected {
        color: gold;
    }

    /* About Us Section */
    .about-section {
        display: flex;
        margin-top: 40px;
        border-top: 3px solid #006633;
    }
    .about-left {
        background-color: #006633;
        color: white;
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 1.5em;
        padding: 20px;
    }
    .about-right {
        flex: 2;
        padding: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        font-size: 1.1em;
    }
</style>
</head>
<body>

<header>
    GIVE YOUR OPINION <br> YOU HAVE A VOICE
</header>

<div class="container">
    <h2>Submit Your Suggestion</h2>
    <select id="department">
        <option value="">Select Department</option>
        <option>Education</option>
        <option>Health</option>
        <option>Infrastructure</option>
        <option>Security</option>
        <option>Transport</option>
        <option>Energy</option>
        <option>Environment</option>
        <option>Economy</option>
    </select>
    <textarea id="opinion" placeholder="Write your policy suggestion here..." rows="4"></textarea>
    <button onclick="submitOpinion()">Submit</button>

    <h2>View Suggestions</h2>
    <select id="viewDept" onchange="viewSuggestions()">
        <option value="">Select Department</option>
        <option>Education</option>
        <option>Health</option>
        <option>Infrastructure</option>
        <option>Security</option>
        <option>Transport</option>
        <option>Energy</option>
        <option>Environment</option>
        <option>Economy</option>
    </select>
    
    <div class="suggestions" id="suggestionsList"></div>
</div>

<!-- About Us Section -->
<div class="about-section">
    <div class="about-left">ABOUT US</div>
    <div class="about-right">
        Your opinion matters as a citizen of Pakistan. Every voice deserves to be heard, respected, and valued for the betterment of our nation.
    </div>
</div>

<script>
    let data = {};

    function submitOpinion() {
        const dept = document.getElementById('department').value;
        const opinion = document.getElementById('opinion').value.trim();
        
        if (!dept || !opinion) {
            alert("Please select a department and write your suggestion.");
            return;
        }
        
        if (!data[dept]) data[dept] = [];
        data[dept].push({ text: opinion, rating: 0, userRated: false });
        
        document.getElementById('opinion').value = "";
        alert("Your suggestion has been added!");
    }

    function viewSuggestions() {
        const dept = document.getElementById('viewDept').value;
        const listDiv = document.getElementById('suggestionsList');
        listDiv.innerHTML = "";
        
        if (!dept || !data[dept] || data[dept].length === 0) {
            listDiv.innerHTML = "<p>No suggestions yet for this department.</p>";
            return;
        }
        
        data[dept].forEach((op, index) => {
            const div = document.createElement('div');
            div.className = 'suggestion';
            div.innerHTML = `
                <p>${op.text}</p>
                <div class="stars" data-index="${index}" data-dept="${dept}">
                    ${[1,2,3,4,5].map(num => `<span class="star ${num <= op.rating ? 'selected' : ''}" data-star="${num}">&#9733;</span>`).join('')}
                </div>
            `;
            listDiv.appendChild(div);
        });

        // Add star click event
        document.querySelectorAll('.stars .star').forEach(star => {
            star.addEventListener('click', function() {
                const parent = this.parentElement;
                const index = parent.dataset.index;
                const dept = parent.dataset.dept;

                if (data[dept][index].userRated && data[dept][index].rating === parseInt(this.dataset.star)) {
                    // Remove rating
                    data[dept][index].rating = 0;
                    data[dept][index].userRated = false;
                } else {
                    data[dept][index].rating = parseInt(this.dataset.star);
                    data[dept][index].userRated = true;
                }

                viewSuggestions(); // refresh list
            });
        });
    }
</script>

</body>
</html>
